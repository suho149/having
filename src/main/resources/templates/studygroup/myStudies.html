<!--<!DOCTYPE html>-->
<!--<html lang="ko" xmlns:th="http://www.thymeleaf.org">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--    <title>내 스터디 - StudyGroup</title>-->
<!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">-->
<!--    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">-->
<!--    <style>-->
<!--        body {-->
<!--            background-color: #f8f9fa;-->
<!--        }-->
<!--        .container {-->
<!--            max-width: 960px;-->
<!--            margin-top: 50px;-->
<!--            margin-bottom: 50px;-->
<!--        }-->
<!--        .card {-->
<!--            border: none;-->
<!--            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);-->
<!--            border-radius: 10px;-->
<!--            margin-bottom: 25px;-->
<!--        }-->
<!--        .card-header {-->
<!--            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);-->
<!--            color: white;-->
<!--            border-top-left-radius: 10px;-->
<!--            border-top-right-radius: 10px;-->
<!--            padding: 1.2rem 1.5rem;-->
<!--            display: flex;-->
<!--            justify-content: space-between;-->
<!--            align-items: center;-->
<!--        }-->
<!--        .card-header h2 {-->
<!--            margin-bottom: 0;-->
<!--            font-weight: bold;-->
<!--            color: white;-->
<!--        }-->
<!--        .study-card-body {-->
<!--            padding: 25px;-->
<!--        }-->
<!--        .study-item {-->
<!--            border-bottom: 1px solid #eee;-->
<!--            padding-bottom: 15px;-->
<!--            margin-bottom: 15px;-->
<!--            display: flex;-->
<!--            align-items: flex-start;-->
<!--        }-->
<!--        .study-item:last-child {-->
<!--            border-bottom: none;-->
<!--            margin-bottom: 0;-->
<!--            padding-bottom: 0;-->
<!--        }-->
<!--        .study-icon {-->
<!--            font-size: 2.5rem;-->
<!--            color: #667eea;-->
<!--            margin-right: 20px;-->
<!--            flex-shrink: 0; /* 아이콘이 축소되지 않도록 */-->
<!--        }-->
<!--        .study-details {-->
<!--            flex-grow: 1;-->
<!--        }-->
<!--        .study-details h5 {-->
<!--            font-weight: bold;-->
<!--            color: #333;-->
<!--            margin-bottom: 5px;-->
<!--        }-->
<!--        .study-details p {-->
<!--            font-size: 0.95rem;-->
<!--            color: #555;-->
<!--            margin-bottom: 5px;-->
<!--        }-->
<!--        .study-details small {-->
<!--            color: #888;-->
<!--            font-size: 0.85rem;-->
<!--        }-->
<!--        .study-meta {-->
<!--            display: flex;-->
<!--            flex-wrap: wrap;-->
<!--            gap: 10px;-->
<!--            margin-top: 10px;-->
<!--        }-->
<!--        .meta-tag {-->
<!--            background-color: #e9ecef;-->
<!--            color: #6c757d;-->
<!--            padding: 4px 8px;-->
<!--            border-radius: 5px;-->
<!--            font-size: 0.8rem;-->
<!--        }-->
<!--        .status-badge {-->
<!--            font-size: 0.8rem;-->
<!--            padding: 5px 10px;-->
<!--            border-radius: 5px;-->
<!--        }-->
<!--        .status-recruiting { background-color: #28a745; color: white; } /* Green */-->
<!--        .status-in_progress { background-color: #007bff; color: white; } /* Blue */-->
<!--        .status-completed { background-color: #6c757d; color: white; } /* Gray */-->
<!--        .status-cancelled { background-color: #dc3545; color: white; } /* Red */-->
<!--    </style>-->
<!--</head>-->
<!--<body>-->
<!--<div class="container">-->
<!--    <div class="card">-->
<!--        <div class="card-header">-->
<!--            <h2 class="mb-0"><i class="fas fa-book-reader me-3"></i>내 스터디 목록</h2>-->
<!--            <a href="/study-groups/new" class="btn btn-light btn-sm">-->
<!--                <i class="fas fa-plus me-1"></i>새 스터디 만들기-->
<!--            </a>-->
<!--        </div>-->
<!--        <div class="card-body study-card-body">-->
<!--            <div th:if="${#lists.isEmpty(myStudyGroups)}" class="alert alert-info text-center" role="alert">-->
<!--                아직 참여중인 스터디가 없습니다. <a href="/study-groups" class="alert-link">새 스터디를 찾아보세요!</a>-->
<!--            </div>-->

<!--            <div th:unless="${#lists.isEmpty(myStudyGroups)}">-->
<!--                <div th:each="study : ${myStudyGroups}" class="study-item">-->
<!--                    <i class="fas fa-book-open study-icon"></i> <div class="study-details">-->
<!--                    <div class="d-flex justify-content-between align-items-center mb-2">-->
<!--                        <h5 th:text="${study.name}">스터디 그룹 이름</h5>-->
<!--                        <span th:classappend="${study.status.name() == 'RECRUITING' ? 'status-recruiting' : (study.status.name() == 'IN_PROGRESS' ? 'status-in_progress' : (study.status.name() == 'COMPLETED' ? 'status-completed' : (study.status.name() == 'CANCELLED' ? 'status-cancelled' : '')))}"-->
<!--                              class="badge status-badge"-->
<!--                              th:text="${study.status.name() == 'RECRUITING' ? '모집 중' : (study.status.name() == 'IN_PROGRESS' ? '진행 중' : (study.status.name() == 'COMPLETED' ? '완료됨' : (study.status.name() == 'CANCELLED' ? '취소됨' : '알 수 없음')))}">-->
<!--                                모집 중-->
<!--                            </span>-->
<!--                    </div>-->
<!--                    <p th:text="${study.description != null and study.description != '' ? study.description : '설명 없음'}">스터디에 대한 간략한 설명입니다.</p>-->
<!--                    <div class="study-meta">-->
<!--                        <span class="meta-tag"><i class="fas fa-users me-1"></i><span th:text="${study.currentMembersCount}"></span> / <span th:text="${study.maxMembers}"></span> 명</span>-->
<!--                        <span class="meta-tag"><i class="fas fa-tag me-1"></i><span th:text="${study.category}"></span></span>-->
<!--                        <span class="meta-tag"><i class="fas fa-map-marker-alt me-1"></i><span th:text="${study.locationType == 'ONLINE' ? '온라인' : (study.locationType == 'OFFLINE' ? '오프라인' : '온/오프라인 병행')}"></span></span>-->
<!--                        <span th:if="${study.leader != null}" class="meta-tag"><i class="fas fa-crown me-1"></i>리더: <span th:text="${study.leader.nickname}"></span></span>-->
<!--                        <span class="meta-tag" th:if="${study.startDate != null}"><i class="fas fa-calendar-alt me-1"></i>시작: <span th:text="${#temporals.format(study.startDate, 'yyyy-MM-dd')}"></span></span>-->
<!--                    </div>-->
<!--                    <div class="mt-3">-->
<!--                        <a th:href="@{'/study-groups/' + ${study.studyGroupId}}" class="btn btn-outline-primary btn-sm">상세 보기</a>-->
<!--                        <a th:if="${currentUser != null && study.leader != null && study.leader.userId == currentUser.userId}"-->
<!--                           th:href="@{'/study-groups/' + ${study.studyGroupId} + '/manage'}" class="btn btn-outline-warning btn-sm ms-2">-->
<!--                            관리-->
<!--                        </a>-->
<!--                    </div>-->
<!--                </div>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--        <div class="card-footer bg-light text-center">-->
<!--            <a href="/dashboard" class="btn btn-outline-secondary">대시보드로 돌아가기</a>-->
<!--            <a href="/study-groups" class="btn btn-outline-info ms-2">다른 스터디 찾아보기</a>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->

<!--<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>-->
<!--</body>-->
<!--</html>-->
<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>내 스터디 - StudyGroup</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #f8f9fa;
        }
        .container {
            max-width: 960px;
            margin-top: 50px;
            margin-bottom: 50px;
        }
        .card {
            border: none;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            border-radius: 10px;
            margin-bottom: 25px;
        }
        .card-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-top-left-radius: 10px;
            border-top-right-radius: 10px;
            padding: 1.2rem 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .card-header h2 {
            margin-bottom: 0;
            font-weight: bold;
            color: white;
        }
        .study-card-body {
            padding: 25px;
        }
        .study-item {
            border-bottom: 1px solid #eee;
            padding-bottom: 15px;
            margin-bottom: 15px;
            display: flex;
            align-items: flex-start;
        }
        .study-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        .study-icon {
            font-size: 2.5rem;
            color: #667eea;
            margin-right: 20px;
            flex-shrink: 0; /* 아이콘이 축소되지 않도록 */
        }
        .study-details {
            flex-grow: 1;
        }
        .study-details h5 {
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
        }
        .study-details p {
            font-size: 0.95rem;
            color: #555;
            margin-bottom: 5px;
        }
        .study-details small {
            color: #888;
            font-size: 0.85rem;
        }
        .study-meta {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
        }
        .meta-tag {
            background-color: #e9ecef;
            color: #6c757d;
            padding: 4px 8px;
            border-radius: 5px;
            font-size: 0.8rem;
        }
        .status-badge {
            font-size: 0.8rem;
            padding: 5px 10px;
            border-radius: 5px;
        }
        .status-recruiting { background-color: #28a745; color: white; } /* Green */
        .status-in_progress { background-color: #007bff; color: white; } /* Blue */
        .status-completed { background-color: #6c757d; color: white; } /* Gray */
        .status-cancelled { background-color: #dc3545; color: white; } /* Red */
    </style>
</head>
<body>
<div class="container">
    <div class="card">
        <div class="card-header">
            <h2 class="mb-0"><i class="fas fa-book-reader me-3"></i>내 스터디 목록</h2>
            <a href="/study-groups/new" class="btn btn-light btn-sm">
                <i class="fas fa-plus me-1"></i>새 스터디 만들기
            </a>
        </div>
        <div class="card-body study-card-body">
            <div th:if="${#lists.isEmpty(myStudyGroups)}" class="alert alert-info text-center" role="alert">
                아직 참여중인 스터디가 없습니다. <a href="/study-groups" class="alert-link">새 스터디를 찾아보세요!</a>
            </div>

            <div th:unless="${#lists.isEmpty(myStudyGroups)}">
                <div th:each="study : ${myStudyGroups}" class="study-item">
                    <i class="fas fa-book-open study-icon"></i> <div class="study-details">
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <h5 th:text="${study.name}">스터디 그룹 이름</h5>
                        <span th:classappend="${study.status.name() == 'RECRUITING' ? 'status-recruiting' : (study.status.name() == 'IN_PROGRESS' ? 'status-in_progress' : (study.status.name() == 'COMPLETED' ? 'status-completed' : (study.status.name() == 'CANCELLED' ? 'status-cancelled' : '')))}"
                              class="badge status-badge"
                              th:text="${study.status.name() == 'RECRUITING' ? '모집 중' : (study.status.name() == 'IN_PROGRESS' ? '진행 중' : (study.status.name() == 'COMPLETED' ? '완료됨' : (study.status.name() == 'CANCELLED' ? '취소됨' : '알 수 없음')))}">
                                모집 중
                            </span>
                    </div>
                    <p th:text="${study.description != null and study.description != '' ? study.description : '설명 없음'}">스터디에 대한 간략한 설명입니다.</p>
                    <div class="study-meta">
                        <span class="meta-tag"><i class="fas fa-users me-1"></i><span th:text="${study.currentMembersCount}"></span> / <span th:text="${study.maxMembers}"></span> 명</span>
                        <span class="meta-tag">
                                <i class="fas fa-tags me-1"></i>
                                <span th:if="${#lists.isEmpty(study.tags)}">태그 없음</span>
                                <span th:each="tag, iterStat : ${study.tags}" th:text="${tag.name} + (${iterStat.last} ? '' : ', ')"></span>
                            </span>
                        <span class="meta-tag"><i class="fas fa-map-marker-alt me-1"></i><span th:text="${study.locationType == 'ONLINE' ? '온라인' : (study.locationType == 'OFFLINE' ? '오프라인' : '온/오프라인 병행')}"></span></span>
                        <span th:if="${study.leader != null}" class="meta-tag"><i class="fas fa-crown me-1"></i>리더: <span th:text="${study.leader.nickname}"></span></span>
                        <span class="meta-tag" th:if="${study.startDate != null}"><i class="fas fa-calendar-alt me-1"></i>시작: <span th:text="${#temporals.format(study.startDate, 'yyyy-MM-dd')}"></span></span>
                    </div>
                    <div class="mt-3">
                        <a th:href="@{'/studies/' + ${study.studyGroupId}}" class="btn btn-outline-primary btn-sm">상세 보기</a>
                        <a th:if="${currentUser != null && study.leader != null && study.leader.userId == currentUser.userId}"
                           th:href="@{'/studies/' + ${study.studyGroupId} + '/manage'}" class="btn btn-outline-warning btn-sm ms-2">
                            관리
                        </a>
                    </div>
                </div>
                </div>
            </div>
        </div>
        <div class="card-footer bg-light text-center">
            <a href="/dashboard" class="btn btn-outline-secondary">대시보드로 돌아가기</a>
            <a href="/study-groups" class="btn btn-outline-info ms-2">다른 스터디 찾아보기</a>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>